# v0.4.0 Deployment Guide

## üöÄ Quick Deployment

### On Your Development Machine (macOS)

```bash
cd ~/Desktop/Lume_Security_ToolKit/lume_security_toolkit
git status
# Should show: On branch feature/v0.4.0-plugin-architecture
# Should show: nothing to commit, working tree clean
```

### On Kali Linux

#### Step 1: Pull Latest Changes

```bash
cd ~/lume-security-toolkit
git fetch origin
git checkout feature/v0.4.0-plugin-architecture
git pull origin feature/v0.4.0-plugin-architecture
```

#### Step 2: Install/Upgrade

```bash
sudo pip3 install -e . --break-system-packages --upgrade
```

#### Step 3: Verify Installation

```bash
# Check version
lume --version
# Expected: Lume Security Toolkit v0.4.0

# List plugins
lume --list-plugins
# Expected: 7 plugins listed

# Test plugin info
lume --plugin-info nmap
# Expected: Plugin information displayed

# Test backward compatibility
lume "scan ports on 192.168.1.1" --dry-run
# Expected: Command shown without execution
```

---

## üß™ Testing Checklist

### Basic Functionality

```bash
# 1. Version check
lume --version

# 2. List plugins
lume --list-plugins

# 3. Plugin info
lume --plugin-info nmap
lume --plugin-info gobuster

# 4. Dry run mode
lume --dry-run "scan ports on 192.168.1.1"

# 5. Explain mode
lume --explain "find directories on example.com"

# 6. History
lume --history
```

### Backward Compatibility Tests

```bash
# All v0.3.0 commands should work identically

# Port scanning
lume "scan ports on 192.168.1.1" --dry-run

# Directory enumeration
lume "find directories on example.com" --dry-run

# Subdomain enumeration
lume "find subdomains on example.com" --dry-run

# Web vulnerability scan
lume "scan web vulnerabilities on example.com" --dry-run

# SQL injection test
lume "test sql injection on http://example.com" --dry-run

# SSH brute force
lume "brute force ssh on 192.168.1.1" --dry-run

# Web technology identification
lume "identify web technologies on example.com" --dry-run
```

### ML Normalization (if spaCy installed)

```bash
# Enable ML normalization
lume --ml-normalize "please scan the ports on 192.168.1.1" --dry-run

# With confidence threshold
lume --ml-normalize --ml-confidence 0.8 "check for vulnerabilities" --dry-run
```

### Security Verification

```bash
# Verify no shell=True in codebase
cd ~/lume-security-toolkit
grep -r "shell=True" lume/
# Expected: No results (or only in comments)

# Check plugin templates
python3 -c "
from lume.core.plugin_registry import PluginRegistry
registry = PluginRegistry()
registry.initialize()
for name in registry.list_all():
    plugin = registry.get(name)
    print(f'{name}: {plugin.command_template}')
"
```

---

## üìä Expected Results

### Version Check
```
Lume Security Toolkit v0.4.0
```

### List Plugins
```
Available plugins (7):
  - gobuster
  - hydra
  - metasploit
  - nikto
  - nmap
  - sqlmap
  - whatweb
```

### Plugin Info (nmap example)
```
Plugin: nmap
Command template: nmap -sV -T4 {target}
Summary: Performed a service and version scan on the target
Impact: Identified open ports and detected running network services for further analysis
Warning: Port scanning may trigger IDS/IPS systems. Ensure you have authorization.
```

### Dry Run Example
```
[*] Tool: nmap
[*] Command: nmap -sV -T4 192.168.1.1
[*] Description: Scan target for open ports and services
[!] Warning: Port scanning may trigger IDS/IPS systems. Ensure you have authorization.
[*] Dry-run mode: Command not executed
```

---

## üêõ Troubleshooting

### Issue: "Module not found" errors

**Solution**:
```bash
cd ~/lume-security-toolkit
sudo pip3 install -e . --break-system-packages --upgrade
```

### Issue: "Plugin validation failed"

**Solution**: Check that all plugins are properly installed
```bash
python3 -c "
from lume.plugins.nmap import NmapPlugin
from lume.plugins.gobuster import GobusterPlugin
from lume.plugins.nikto import NiktoPlugin
from lume.plugins.sqlmap import SqlmapPlugin
from lume.plugins.hydra import HydraPlugin
from lume.plugins.metasploit import MetasploitPlugin
from lume.plugins.whatweb import WhatwebPlugin
print('All plugins import successfully')
"
```

### Issue: Commands not working

**Solution**: Verify legacy adapter is working
```bash
python3 -c "
from lume.core.legacy_adapter import LegacyAdapter
adapter = LegacyAdapter()
result = adapter.parse_and_execute('scan ports on 192.168.1.1', dry_run=True)
print(f'Success: {result[\"success\"]}')
print(f'Command: {result[\"command\"]}')
"
```

---

## üîÑ Rollback (if needed)

If you need to rollback to v0.3.0:

```bash
cd ~/lume-security-toolkit
git checkout main
sudo pip3 install -e . --break-system-packages --upgrade
lume --version
# Should show: Lume Security Toolkit v0.3.0
```

---

## ‚úÖ Success Criteria

v0.4.0 is successfully deployed when:

- [x] `lume --version` shows v0.4.0
- [x] `lume --list-plugins` shows 7 plugins
- [x] All v0.3.0 commands work identically
- [x] No shell=True in codebase
- [x] All plugins import successfully
- [x] Dry run mode works
- [x] Explain mode works
- [x] History logging works

---

## üìû Support

If you encounter issues:

1. Check this troubleshooting guide
2. Review V0.4.0_IMPLEMENTATION_COMPLETE.md
3. Check GitHub issues
4. Create new issue with details

---

## üéâ Next Steps After Deployment

### Immediate

1. Test all commands on real targets (with authorization)
2. Verify logging works correctly
3. Check performance vs v0.3.0

### Short Term (1-2 weeks)

1. Gather user feedback
2. Fix any bugs discovered
3. Optimize performance if needed

### Medium Term (2-4 weeks)

1. Plan v0.5.0 workflow system
2. Design workflow architecture
3. Create v0.5.0 specification

---

**Version**: 0.4.0  
**Status**: Ready for Deployment  
**Date**: February 11, 2026  

**"Think in English. Hack in Kali. Build it Lean."** üî¶
