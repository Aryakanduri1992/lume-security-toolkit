# v0.4.0 Implementation Checklist

## üéØ Quick Reference

**Goal**: Plugin architecture with backward compatibility  
**Timeline**: 4 weeks  
**Principle**: Minimal, secure, lean  

---

## Week 1: Foundation ‚è±Ô∏è 5 days

### Day 1-2: Core Plugin System
- [ ] Create `lume/core/plugin_base.py` (~100 lines)
  - [ ] BasePlugin abstract class
  - [ ] Required methods: name, command_template, validate_target, build_command, explain
  - [ ] execute() method with shell=False
  - [ ] Type hints and docstrings
  
- [ ] Create `lume/core/validators.py` (~80 lines)
  - [ ] validate_ip()
  - [ ] validate_domain()
  - [ ] validate_url()
  - [ ] validate_command_template()
  - [ ] sanitize_target()

### Day 3-4: Plugin Registry
- [ ] Create `lume/core/plugin_registry.py` (~80 lines)
  - [ ] PluginRegistry class
  - [ ] register() method
  - [ ] get() method
  - [ ] list_all() method
  - [ ] _validate_plugin() method

### Day 5: Testing
- [ ] Create `tests/test_plugin_base.py`
- [ ] Create `tests/test_validators.py`
- [ ] Create `tests/test_plugin_registry.py`
- [ ] All tests passing

---

## Week 2: Plugin Migration ‚è±Ô∏è 5 days

### Day 1: Setup + Nmap
- [ ] Create `lume/plugins/` directory
- [ ] Create `lume/plugins/__init__.py`
- [ ] Implement `lume/plugins/nmap.py` (~80 lines)
- [ ] Test nmap plugin

### Day 2: Gobuster + Nikto
- [ ] Implement `lume/plugins/gobuster.py` (~80 lines)
- [ ] Implement `lume/plugins/nikto.py` (~80 lines)
- [ ] Test both plugins

### Day 3: Sqlmap + Hydra
- [ ] Implement `lume/plugins/sqlmap.py` (~80 lines)
- [ ] Implement `lume/plugins/hydra.py` (~80 lines)
- [ ] Test both plugins

### Day 4: Metasploit + Whatweb
- [ ] Implement `lume/plugins/metasploit.py` (~80 lines)
- [ ] Implement `lume/plugins/whatweb.py` (~80 lines)
- [ ] Test both plugins

### Day 5: Plugin Testing
- [ ] Create `tests/test_plugins/` directory
- [ ] Write tests for all 7 plugins
- [ ] All plugin tests passing

---

## Week 3: Integration ‚è±Ô∏è 5 days

### Day 1-2: Legacy Adapter
- [ ] Create `lume/core/legacy_adapter.py` (~60 lines)
  - [ ] LegacyAdapter class
  - [ ] execute() method
  - [ ] Map old commands to plugins
- [ ] Test legacy adapter

### Day 3: CLI Integration
- [ ] Update `lume/cli.py`
  - [ ] Add --list-plugins flag
  - [ ] Add --plugin-info flag
  - [ ] Add --plugin flag (optional)
  - [ ] Integrate legacy adapter
  - [ ] Maintain backward compatibility
- [ ] Update `lume/__init__.py` (version to 0.4.0)

### Day 4: Integration Testing
- [ ] Create `tests/test_integration.py`
- [ ] Test: Old commands still work
- [ ] Test: New plugin CLI works
- [ ] Test: ML + plugins work
- [ ] All integration tests passing

### Day 5: Security Testing
- [ ] Create `tests/test_security.py`
- [ ] Test: No shell=True anywhere
- [ ] Test: Command injection prevention
- [ ] Test: Template locking works
- [ ] Security audit passed

---

## Week 4: Polish & Release ‚è±Ô∏è 5 days

### Day 1: Documentation
- [ ] Create `docs/V0.4.0_ARCHITECTURE.md`
- [ ] Create `docs/V0.4.0_PLUGIN_GUIDE.md`
- [ ] Create `docs/V0.4.0_MIGRATION_GUIDE.md`
- [ ] Update `README.md`
- [ ] Update `CHANGELOG.md`

### Day 2: Performance & Cleanup
- [ ] Performance testing
- [ ] Code cleanup
- [ ] Remove dead code
- [ ] Optimize imports

### Day 3: Final Testing
- [ ] Run full test suite
- [ ] Test on Kali Linux
- [ ] Verify backward compatibility
- [ ] Check test coverage (85%+)

### Day 4: Release Preparation
- [ ] Create `V0.4.0_RELEASE_NOTES.md`
- [ ] Update version numbers
- [ ] Final security review
- [ ] Prepare commit message

### Day 5: Release
- [ ] Commit all changes
- [ ] Tag v0.4.0
- [ ] Push to GitHub
- [ ] Create GitHub release
- [ ] Celebrate! üéâ

---

## üîç Quality Gates

### Before Week 2
- [ ] All Week 1 tests passing
- [ ] Core architecture reviewed
- [ ] No security issues

### Before Week 3
- [ ] All 7 plugins implemented
- [ ] All plugin tests passing
- [ ] No regressions

### Before Week 4
- [ ] Backward compatibility verified
- [ ] Integration tests passing
- [ ] Security tests passing

### Before Release
- [ ] All tests passing
- [ ] Documentation complete
- [ ] Security audit passed
- [ ] Performance acceptable

---

## üö® Red Flags (Stop if you see these)

‚ùå Using shell=True anywhere  
‚ùå String concatenation for commands  
‚ùå Dynamic plugin loading  
‚ùå Over-engineering  
‚ùå Breaking backward compatibility  
‚ùå Test coverage below 80%  
‚ùå Security vulnerabilities  

---

## üìä Progress Tracking

### Week 1: Foundation
- [ ] Day 1-2: Core Plugin System
- [ ] Day 3-4: Plugin Registry
- [ ] Day 5: Testing

### Week 2: Plugins
- [ ] Day 1: Nmap
- [ ] Day 2: Gobuster + Nikto
- [ ] Day 3: Sqlmap + Hydra
- [ ] Day 4: Metasploit + Whatweb
- [ ] Day 5: Testing

### Week 3: Integration
- [ ] Day 1-2: Legacy Adapter
- [ ] Day 3: CLI Integration
- [ ] Day 4: Integration Testing
- [ ] Day 5: Security Testing

### Week 4: Polish
- [ ] Day 1: Documentation
- [ ] Day 2: Performance
- [ ] Day 3: Final Testing
- [ ] Day 4: Release Prep
- [ ] Day 5: Release

---

## üéØ Success Metrics

**Code Quality**:
- [ ] 85%+ test coverage
- [ ] All tests passing
- [ ] No security issues
- [ ] Clean code review

**Functionality**:
- [ ] All v0.3.0 commands work
- [ ] All 7 plugins work
- [ ] Legacy adapter works
- [ ] New CLI works

**Documentation**:
- [ ] Architecture documented
- [ ] Plugin guide complete
- [ ] Migration guide complete
- [ ] README updated

**Release**:
- [ ] Tagged v0.4.0
- [ ] Pushed to GitHub
- [ ] Release notes published
- [ ] Ready for users

---

## üìù Notes

**Keep in Mind**:
- Minimal, secure, lean
- No over-engineering
- Backward compatibility is critical
- Security first, always
- Test everything

**When in Doubt**:
- Check V0.4.0_SPECIFICATION.md
- Review v0.3.0 code
- Keep it simple
- Ask for review

---

**Status**: Ready to Start  
**Next Action**: Begin Week 1, Day 1  
**Good Luck!** üöÄ
